(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2701:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},1607:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},4464:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5162:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},6429:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(7644)}])},7644:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Login}});var r=s(5893),a=s(7294),l=s(1163),i=s(1664),n=s.n(i),o=s(6266),c=s(8815),d=s(6501),h=s(5041),u=s(5162),m=s(1607),x=s(4464),p=s(2701),f=s(1517),w=s(1951);function Login(){let[e,t]=(0,a.useState)({email:"",password:""}),[s,i]=(0,a.useState)(!1),[b,g]=(0,a.useState)(!1),{login:y,currentUser:j,userProfile:v}=(0,o.a)(),N=(0,l.useRouter)();function handleChange(s){t({...e,[s.target.name]:s.target.value})}async function handleSubmit(t){if(t.preventDefault(),!e.email||!e.password){d.ZP.error("Please fill in all fields");return}try{g(!0),await y(e.email,e.password),d.ZP.success("Logged in successfully!")}catch(e){console.error("Login error:",e),d.ZP.error(e.message||"Failed to log in")}finally{g(!1)}}async function handleGoogleSignIn(){try{g(!0);let e=new f.hJ,t=await (0,f.rh)(w.I8,e),{data:s,error:r}=await c.T.getUserByFirebaseId(t.user.uid);s&&!r?(d.ZP.success("Signed in with Google successfully!"),"student"===s.role?N.push("/student/dashboard"):"teacher"===s.role&&N.push("/teacher/dashboard")):(d.ZP.success("Signed in with Google! Please complete your profile."),N.push("/complete-profile"))}catch(e){console.error("Google sign-in error:",e),d.ZP.error(e.message||"Failed to sign in with Google")}finally{g(!1)}}return(0,a.useEffect)(()=>{j&&v&&("student"===v.role?N.push("/student/dashboard"):"teacher"===v.role&&N.push("/teacher/dashboard"))},[j,v,N]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:(0,r.jsx)(h.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-400 rounded-full flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-3 w-3 text-white"})})]})}),(0,r.jsx)("h2",{className:"text-4xl font-extrabold text-white mb-4",children:"Welcome Back"}),(0,r.jsx)("p",{className:"text-blue-100 text-lg mb-2",children:"Sign in to your Smart Attendance account"}),(0,r.jsxs)("p",{className:"text-blue-200 text-sm",children:["Don't have an account?"," ",(0,r.jsx)(n(),{href:"/register",className:"font-semibold text-yellow-400 hover:text-yellow-300 transition-colors",children:"Create one here"})]})]}),(0,r.jsx)("form",{className:"mt-8 space-y-6",onSubmit:handleSubmit,children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-2xl",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email address"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Enter your email",value:e.email,onChange:handleChange})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Enter your password",value:e.password,onChange:handleChange}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>i(!s),children:s?(0,r.jsx)(m.Z,{className:"h-5 w-5 text-white/60 hover:text-white transition-colors"}):(0,r.jsx)(x.Z,{className:"h-5 w-5 text-white/60 hover:text-white transition-colors"})})]})]})]}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("button",{type:"submit",disabled:b,className:"group w-full bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 hover:from-yellow-300 hover:to-orange-300 font-bold py-4 px-6 rounded-xl transition-all transform hover:scale-105 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center",children:b?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-gray-900/30 border-t-gray-900 rounded-full animate-spin mr-3"}),"Signing in..."]}):(0,r.jsxs)(r.Fragment,{children:["Sign in",(0,r.jsx)(p.Z,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-white/30"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-4 bg-transparent text-white/80",children:"Or continue with"})})]})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("button",{type:"button",onClick:handleGoogleSignIn,disabled:b,className:"w-full flex items-center justify-center px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed backdrop-blur-sm",children:[(0,r.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})})]})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(n(),{href:"/",className:"text-blue-200 hover:text-white transition-colors flex items-center justify-center",children:"‚Üê Back to home"})})]})})}}},function(e){e.O(0,[701,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);