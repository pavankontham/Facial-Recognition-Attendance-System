(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{2701:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1607:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},4464:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5162:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},7349:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},4933:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9525:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,r.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5511:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(7200)}])},7200:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Register}});var r=s(5893),l=s(7294),a=s(1163),n=s(1664),i=s.n(n),o=s(6266),c=s(8815),d=s(6501),u=s(7349),h=s(5162),m=s(4933),x=s(9525),w=s(1607),p=s(4464),f=s(2701),b=s(1517),y=s(1951);function Register(){let[e,t]=(0,l.useState)({name:"",email:"",password:"",confirmPassword:"",role:"student",studentId:"",subject:""}),[s,n]=(0,l.useState)(!1),[j,g]=(0,l.useState)(!1),[v,N]=(0,l.useState)(!1),{signup:k,currentUser:C,userProfile:Z}=(0,o.a)(),P=(0,a.useRouter)();function handleChange(s){t({...e,[s.target.name]:s.target.value})}async function handleSubmit(t){if(t.preventDefault(),!e.name||!e.email||!e.password||!e.confirmPassword){d.ZP.error("Please fill in all fields");return}if(e.password!==e.confirmPassword){d.ZP.error("Passwords do not match");return}if(e.password.length<6){d.ZP.error("Password must be at least 6 characters");return}if("student"===e.role&&!e.studentId){d.ZP.error("Student ID is required for students");return}if("teacher"===e.role&&!e.subject){d.ZP.error("Subject is required for teachers");return}try{N(!0),await k(e.email,e.password,{name:e.name,role:e.role,student_id:"student"===e.role?e.studentId:null,subject:"teacher"===e.role?e.subject:null}),d.ZP.success("Account created successfully!")}catch(e){console.error("Registration error:",e),d.ZP.error(e.message||"Failed to create account")}finally{N(!1)}}async function handleGoogleSignUp(){try{N(!0);let e=new b.hJ,t=await (0,b.rh)(y.I8,e),{data:s,error:r}=await c.T.getUserByFirebaseId(t.user.uid);s&&!r?(d.ZP.success("Welcome back!"),"student"===s.role?P.push("/student/dashboard"):"teacher"===s.role&&P.push("/teacher/dashboard")):(d.ZP.success("Signed in with Google! Please complete your profile."),P.push("/complete-profile"))}catch(e){console.error("Google sign-up error:",e),d.ZP.error(e.message||"Failed to sign up with Google")}finally{N(!1)}}return(0,l.useEffect)(()=>{C&&Z&&("student"===Z.role?P.push("/student/dashboard"):"teacher"===Z.role&&P.push("/teacher/dashboard"))},[C,Z,P]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-400 rounded-full flex items-center justify-center",children:(0,r.jsx)(h.Z,{className:"h-3 w-3 text-white"})})]})}),(0,r.jsx)("h2",{className:"text-4xl font-extrabold text-white mb-4",children:"Join Smart Attendance"}),(0,r.jsx)("p",{className:"text-blue-100 text-lg mb-2",children:"Create your account and start tracking attendance"}),(0,r.jsxs)("p",{className:"text-blue-200 text-sm",children:["Already have an account?"," ",(0,r.jsx)(i(),{href:"/login",className:"font-semibold text-yellow-400 hover:text-yellow-300 transition-colors",children:"Sign in here"})]})]}),(0,r.jsx)("form",{className:"mt-8 space-y-6",onSubmit:handleSubmit,children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-2xl",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-3",children:"Account Type"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>t({...e,role:"student",studentId:""}),className:"flex items-center justify-center p-4 border rounded-xl transition-all ".concat("student"===e.role?"border-yellow-400 bg-yellow-400/20 text-yellow-400 shadow-lg":"border-white/30 text-white hover:bg-white/10"),children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"Student"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>t({...e,role:"teacher",studentId:"",subject:""}),className:"flex items-center justify-center p-4 border rounded-xl transition-all ".concat("teacher"===e.role?"border-yellow-400 bg-yellow-400/20 text-yellow-400 shadow-lg":"border-white/30 text-white hover:bg-white/10"),children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),"Teacher"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-2",children:"Full Name"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Enter your full name",value:e.name,onChange:handleChange})]}),"student"===e.role&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"studentId",className:"block text-sm font-medium text-white mb-2",children:"Student ID"}),(0,r.jsx)("input",{id:"studentId",name:"studentId",type:"text",required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Enter your student ID",value:e.studentId,onChange:handleChange})]}),"teacher"===e.role&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-white mb-2",children:"Subject"}),(0,r.jsx)("input",{id:"subject",name:"subject",type:"text",required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Enter your subject (e.g., Mathematics, Physics)",value:e.subject,onChange:handleChange}),(0,r.jsx)("p",{className:"text-xs text-blue-200 mt-1",children:"Common subjects: Mathematics, Physics, Chemistry, Biology, Computer Science, English, History"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email address"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Enter your email",value:e.email,onChange:handleChange})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"new-password",required:!0,className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Create a password",value:e.password,onChange:handleChange}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>n(!s),children:s?(0,r.jsx)(w.Z,{className:"h-5 w-5 text-white/60 hover:text-white transition-colors"}):(0,r.jsx)(p.Z,{className:"h-5 w-5 text-white/60 hover:text-white transition-colors"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white mb-2",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",autoComplete:"new-password",required:!0,className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all",placeholder:"Confirm your password",value:e.confirmPassword,onChange:handleChange}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>g(!j),children:j?(0,r.jsx)(w.Z,{className:"h-5 w-5 text-white/60 hover:text-white transition-colors"}):(0,r.jsx)(p.Z,{className:"h-5 w-5 text-white/60 hover:text-white transition-colors"})})]})]})]}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("button",{type:"submit",disabled:v,className:"group w-full bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 hover:from-yellow-300 hover:to-orange-300 font-bold py-4 px-6 rounded-xl transition-all transform hover:scale-105 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center",children:v?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-gray-900/30 border-t-gray-900 rounded-full animate-spin mr-3"}),"Creating account..."]}):(0,r.jsxs)(r.Fragment,{children:["Create Account",(0,r.jsx)(f.Z,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-white/30"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-4 bg-transparent text-white/80",children:"Or continue with"})})]})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("button",{type:"button",onClick:handleGoogleSignUp,disabled:v,className:"w-full flex items-center justify-center px-4 py-3 bg-white/10 border border-white/30 rounded-xl text-white hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed backdrop-blur-sm",children:[(0,r.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})})]})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(i(),{href:"/",className:"text-blue-200 hover:text-white transition-colors flex items-center justify-center",children:"← Back to home"})})]})})}}},function(e){e.O(0,[701,774,888,179],function(){return e(e.s=5511)}),_N_E=e.O()}]);